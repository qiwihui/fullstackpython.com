<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="关于如何使用 Python 编程语言发送 MMS（图片多媒体消息）的教程。">
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="如何使用 Python 发送彩信图片信息" />
<meta name="twitter:image" content="https://www.fullstackpython.com/img/160515-mms-python/header.jpg" />
<meta name="twitter:site" content="@fullstackpython" />
<meta name="twitter:creator" content="@mattmakai" />
<meta property="og:url" content="https://www.fullstackpython.com/blog/send-mms-picture-messages-python.html" />
<meta property="og:title" content="如何使用 Python 发送彩信图片信息" />
<meta property="og:description" content="关于如何使用 Python 编程语言发送 MMS（图片多媒体消息）的教程。 Great post on fullstackpython.com!" />
<meta property="og:image" content="https://www.fullstackpython.com/img/160515-mms-python/header.jpg" />
<link rel="canonical" href="https://www.fullstackpython.com/blog/send-mms-picture-messages-python.html" />
<title>如何使用 Python 发送彩信图片信息 - Full Stack Python</title> <style>hr,img{border:0}*,:after,:before{box-sizing:border-box}html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;font-size:18px;background:#fefefe}body{margin:0;font:18px Georgia,serif;line-height:1.4;color:#222;padding:0}img{vertical-align:middle}hr{height:0;box-sizing:content-box;margin:21px 0;border-top:1px solid #eee}h1,h2,h3,h4,h5,h6{font-family:"Helvetica Neue",sans-serif;font-weight:500;line-height:1.1;color:#000}h1,h2,h3{margin:32px 0 6px}h1{font-size:40px}h2{font-size:28px}h3{font-size:22px}h4,h5,h6{margin:11px 0;font-size:18px}p{margin:0 0 12px}ol,ul{margin:0 0 10px}code,pre{font:"Courier New",monospace;border-radius:4px;background-color:#f4f9ff;font-size:12px}code{padding:2px 4px;white-space:nowrap}pre{white-space:pre-wrap;display:block;padding:10px;margin:0 0 11px;line-height:1.4;word-break:break-all;word-wrap:break-word;border:1px solid #ccc}.cn{padding:0 15px 0 15px;margin-right:auto;margin-left:auto}.cn:before,.cn:after{display:table;content:" "}.cn:after{clear:both}.row:before,.row:after{display:table;content:" "}.row:after{clear:both}.c2,.c3,.c4,.c5,.c6,.c7,.c8,.c9,.c10,.c11,.c12{position:relative;min-height:1px;padding:0 15px 0 15px}a{background:transparent;text-decoration:none;border-bottom:1px dotted;color:#444}a:hover{text-decoration:none;color:#000}.ft{padding:0 0 24px;float:right}.sns{font-family:"Helvetica Neue",sans-serif}.sps{font-size:14px}.hd{margin:20px 0 15px 0}.hd>a{border-bottom:none}img.hdr{vertical-align:middle;border:none;height:52px;width:52px;padding:1px}.hdt a,.hdt a:hover{font:72px "Helvetica Neue",sans-serif;font-weight:normal;letter-spacing:.03em;vertical-align:middle;margin-left:5px;color:#000;text-decoration:none;border-bottom:none;line-height:.9em}.bk{margin:0 7px 0 7px}img.nob{border:none}.pn{margin:0 0 21px;background:#fff;border:1px solid transparent;border-radius:4px;border-color:#22b24c}.pnb{padding:15px}.pnb:before,.pnb:after{display:table;content:" "}.pnb:after{clear:both}.pn>.lg{margin-bottom:0}.pn>.lg .lgi{border-width:1px 0;font:14px 'Helvetica Neue',sans-serif;padding:5px 0 5px 10px}.pn>.lg .lgi:first-child{border-top-right-radius:0;border-top-left-radius:0}.pn>.lg .lgi:last-child{border-bottom:0;background-color:#22b24c;color:#fff}.pnh+.lg .lgi:first-child{border-top-width:0}.pnh{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:3px;border-top-left-radius:3px;color:#468847;background-color:#22b24c;border-color:#22b24c}.pn>.pnh>h3{margin:5px 0 0 0;color:#fff}.pn>.pnh>h3>a{color:#fff}.pn>.lg a.lgi.sbc{padding-left:27px}.pn>.lg a.lgi.sbc2{padding-left:35px}#sb{margin-top:40px}.lg{padding-left:0;margin-bottom:20px}.lgi{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}.lgi:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.lgi:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}a.lgi{color:#333}a.lgi:hover,a.lgi:focus{background:#ddd}a.lgi.active{z-index:2;background:#444;color:#fff;border:1px solid #222}.btn-full{width:100%;box-shadow:1px 2px 1px #222;padding-bottom:4px}p.under-btn{text-align:left;margin-top:20px}p.banner{font-weight:500;line-height:1.1;color:#fff;font-size:22px;margin:14px 0 18px 0}th{text-align:left;font-family:"Helvetica Neue",sans-serif}td{padding-right:20px}blockquote{border-left:4px solid #aaa;padding-left:10px;font-family:"Helvetica Neue"}.well{min-height:20px;padding:19px;margin:0 0 20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.05)}.see-also{margin-top:20px;background:#22B24C;color:#eee;font-family:"Helvetica Neue",sans-serif}.see-also a{color: #fff}.highlight{background:#ffff00}.form-control{display:block;width:100%;height:39px;padding:8px 12px;font-size:14px;color:#777;vertical-align:middle;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(102,175,233,0.6)}.btn{display:inline-block;padding:8px 12px;margin-bottom:0;font-size:15px;line-height:1.4;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;border:1px solid transparent;border-radius:4px;color:#fff;background-color:#22b24c;border-color:#22b24c}.btn:active,.btn.active{background-image:none;outline:0;box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}img.rnd{border:1px solid #ccc;border-radius:5px}.shot{border-radius:5px}.outl{border: 1px solid #ccc}.talk{margin-bottom:22px}@media (min-width:750px){.cn{width:730px}}@media (min-width:768px){.cn{width:750px}#full-toc{display:block}#mobile-toc{display:none}.c3,.c4,.c6,.c8,.c9,.c12{float:left}.c12{width:100%} .c9{width:75%} .c6{width:50%} .c8{width:66.66666666666666%} .c4{width:33.33333333333333%} .c3{width:25%} .co1{margin-left:8.333333333333332%} .select-next{min-height:300px}}@media (min-width:940px){.cn{width:920px}}@media (min-width:1140px){.cn{width:1120px}}.row{margin-right:-15px;margin-left:-15px} @media (max-width:767px){#full-toc{display:none} .hd{padding:8px 0 10px; margin:0} .hdt a,.hdt a:hover{font-size:34px} h1{font-size:28px} h2{font-size:24px} img.hdr{height:26px;width:26px} pre{font-size:60%}} @media (min-width:1140px){.select-next{min-height:220px}}</style><link rel="shortcut icon" href="/img/fsp-fav.png">
</head>
<body>
<div class="cn">
<div class="row"><div class="c12"><div class="hd"><a href="https://fullstackpython.qiwihui.com/"><img src="/img/logos/f.png" class="hdr" alt="Full Stack Python logo"></a><span class="hdt"> <a href="https://fullstackpython.qiwihui.com/">全栈 Python</a></span></div><div class="sns">
<a href="/table-of-contents.html">全部主题</a> <span class="bk">|</span>
<a href="/blog.html">博客</a> <span class="bk">|</span>
<a href="/email.html">邮件订阅</a> <span class="bk">|</span>
<a href="https://twitter.com/fullstackpython">@fullstackpython</a> <span class="bk">|</span>
<a href="https://www.facebook.com/fullstackpython">Facebook</a> <span class="bk">|</span>
<a href="/change-log.html">更新日志</a> <span class="bk">|</span>
<a href="https://github.com/qiwihui/fullstackpython.com">源码</a> 
</div></div></div><div class="row">
 <div class="c12">
  <h1 style="font-size: 36px;">如何使用 Python 发送彩信图片信息</h1>
  <div style="font-size:12px;color:#666;margin:0 0 10px">
     Post updated by <a href="/about-author.html">Matt Makai</a> on 
     March 28, 2018. Originally posted
     on May 15, 2016.
  </div>
 </div>
</div>
<div class="row">
  <div class="c9">
   <p>Multimedia Message Service (MMS) picture and video messages are a common 
extension to the Short Message Service (SMS) system for sending text 
messages. Using a 
<a href="/application-programming-interfaces.html">web application programming interface (API)</a>
with Python makes it easy to send MMS messages from a web application or
script. In this short tutorial we'll learn how to add MMS sending capability
to a new or existing Python application.</p>
<h2>Tools We Need</h2>
<p>Either <a href="/python-2-or-3.html">Python 2 or 3</a> works for the code in this 
tutorial. Just make sure you have one of those two versions installed on 
your system by going to the terminal and typing <code>python --version</code>.
The other dependencies for this tutorial include:</p>
<ul>
<li><a href="https://www.python.org/">Python</a> version <a href="/python-2-or-3.html">2 or 3</a></li>
<li><a href="https://pip.pypa.io/en/stable/">pip</a> and 
  <a href="https://virtualenv.pypa.io/en/latest/">virtualenv</a> to handle one
  <a href="/application-dependencies.html">application dependency</a></li>
<li>A free <a href="https://www.twilio.com/try-twilio">Twilio account</a> to use their 
  <a href="https://www.twilio.com/docs/api/rest/sending-messages">MMS web API</a></li>
<li><a href="https://pypi.org/project/twilio">Twilio Python helper library</a>,
  <a href="https://github.com/twilio/twilio-python/tree/6.0.0">version 6.0.0</a> 
  or later</li>
</ul>
<p>If you are unsure of how to get pip and virtualenv installed, take a look
at the first few steps of the 
<a href="/blog/python-3-flask-green-unicorn-ubuntu-1604-xenial-xerus.html">how to set up Python 3, Flask and Green Unicorn on Ubuntu 16.04 LTS</a>
guide.</p>
<h2>Twilio Web API</h2>
<p>Our simple Python example application will use the Twilio web API to send
picture messages.
Go to the Twilio website
<a href="https://www.twilio.com/try-twilio">sign up for a free trial account</a>. If 
you already have a Twilio account (and you should because it makes it easy 
to add almost any type of communications to applications!) then sign into 
your existing account.</p>
<p><img src="/img/160515-mms-python/try-twilio.png" width="100%" class="technical-diagram img-rounded"></p>
<p>In trial mode Twilio can send MMS to a validated phone number associated 
with the account. When you're ready to send MMS messages to any phone in 
any country then you will have to upgrade your account.</p>
<p>After signing up for a Twilio account, you will receive your own phone 
number that'll be used to send messages. That phone number can send outbound
MMS messages without any configuration. It can also receive messages but 
that requires 
<a href="https://www.twilio.com/docs/quickstart/python/sms/hello-monkey">modifying the Request URL webhook</a> 
in the phone number details screen.</p>
<h2>Installing Our Dependency</h2>
<p>We'll use the <a href="https://pypi.org/project/twilio">twilio helper library</a> 
as a dependency for our Python code. The helper library can be installed
via the <code>pip</code> command, which pulls the code from 
<a href="https://pypi.python.org/pypi">PyPI</a> into our local virtualenv. In this
tutorial we'll call our virtualenv <code>pymms</code> but you can name it whatever
you want for your application.</p>
<p>We have to create the virtualenv before using it. In your terminal enter:</p>
<div class="highlight"><pre><span></span>virtualenv pymms
</pre></div>


<p>If you need to install virtualenv take a look at the
<a href="/blog/python-3-django-gunicorn-ubuntu-1604-xenial-xerus.html">how to set up Python 3, Django and Green Unicorn on Ubuntu 16.04 LTS</a>
guide.</p>
<p>Activate the virtualenv with the <code>source</code> command.</p>
<div class="highlight"><pre><span></span>source pymms/bin/activate
</pre></div>


<p>The command prompt will change to look like this after it is activated:</p>
<p><img src="/img/160515-mms-python/activate-virtualenv.png" width="100%" class="technical-diagram img-rounded"></p>
<p>Now install the 
<a href="https://www.twilio.com/docs/libraries/python">Twilio Python helper library</a>. 
Make sure you install the
version 6.0.0 or later current version because the syntax for this
code changed a bit from earlier helper library versions before 6.0.0.</p>
<div class="highlight"><pre><span></span>pip install twilio&gt;=6.0.0
</pre></div>


<p>Once the helper library installs we can use it in our Python code.</p>
<h2>Sending MMS From Python</h2>
<p>Launch the the Python interpreter by executing the <code>python</code> command in
your terminal. You can also create a new file named <code>send_mms.py</code> if you
want to re-use the code after we give it a try. </p>
<p>We need to grab our account credentials from the Twilio Console to connect 
our Python code to our Twilio account. Go to the 
<a href="https://www.twilio.com/console">Twilio Console</a> and copy the Account SID
and Authentication Token into your Python code.</p>
<p><img src="/img/160515-mms-python/console-tokens.png" width="100%" class="technical-diagram img-rounded"></p>
<p>Enter the following code into the new Python file, or copy it from
<a href="https://github.com/fullstackpython/blog-code-examples">this GitHub repository that contains all blog code examples</a>.</p>
<div class="highlight"><pre><span></span><span class="c1"># import the Twilio client from the dependency we just installed</span>
<span class="kn">from</span> <span class="nn">twilio.rest</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="c1"># the following line needs your Twilio Account SID and Auth Token</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;ACxxxxxxxxxxxxxx&quot;</span><span class="p">,</span> <span class="s2">&quot;zzzzzzzzzzzzz&quot;</span><span class="p">)</span>

<span class="c1"># this is the URL to an image file we&#39;re going to send in the MMS</span>
<span class="n">media</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/mattmakai/fullstackpython.com/master/static/img/logos/f.png&quot;</span>

<span class="c1"># change the &quot;from_&quot; number to your Twilio number and the &quot;to&quot; number</span>
<span class="c1"># to the phone number you signed up for Twilio with, or upgrade your</span>
<span class="c1"># account to send MMS to any phone number that MMS is available</span>
<span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">account</span><span class="o">.</span><span class="n">messages</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">to</span><span class="o">=</span><span class="s2">&quot;+19732644152&quot;</span><span class="p">,</span>
                                   <span class="n">from_</span><span class="o">=</span><span class="s2">&quot;+12023351278&quot;</span><span class="p">,</span>
                                   <span class="n">body</span><span class="o">=</span><span class="s2">&quot;MMS via Python? Nice!&quot;</span><span class="p">,</span>
                                   <span class="n">media_url</span><span class="o">=</span><span class="n">media</span><span class="p">)</span>
</pre></div>


<p>All the lines above that start with <code>#</code> are comments to give you some
context for what each line is doing. After entering that code into the
interpreter or running the Python script with <code>python send_mms.py</code>
Twilio will send your MMS.</p>
<p>In a few seconds you should see a message appear on your phone - note that
MMS can take a little longer because your phone has to download the image. 
I use an iPhone so here is what the message looked like when I received it:</p>
<p><img src="/img/160515-mms-python/mms-result.jpg" width="100%" class="technical-diagram img-rounded"></p>
<p>That is everything need to send MMS to a phone. Pretty awesome result for 
a few lines of Python code, right? This code can be added to any Python 
program to send outbound MMS.</p>
<p>One final note: keep your Twilio Auth Token secret otherwise anyone who
gets it will be able to send and receive messages through your account.</p>
<p>Questions? Contact me via Twitter 
<a href="https://twitter.com/fullstackpython">@fullstackpython</a>
or <a href="https://twitter.com/mattmakai">@mattmakai</a>. I'm also on GitHub with
the username <a href="https://github.com/mattmakai">mattmakai</a>.</p>
<p>See something wrong in this post? Fork 
<a href="https://github.com/mattmakai/fullstackpython.com/blob/master/content/posts/160515-sending-mms-picture-messages-python.markdown">this page's source on GitHub</a>
and submit a pull request.</p>
   <hr>
<div id="mc_embed_signup">
<form action="//mattmakai.us2.list-manage.com/subscribe/post?u=b7e774f0c4f05dcebbfee183d&amp;id=b22335388d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
 <div id="mc_embed_signup_scroll">
  <h4>Sign up for a monthly email with Full Stack Python tutorials. No spam ever.</h4>
  <div class="row">
   <div class="c9">
    <input type="email" value="" name="EMAIL" class="email form-control" id="mce-EMAIL" placeholder="email address" required>
    <div style="position: absolute; left: -5000px;"><input type="text" name="b_b7e774f0c4f05dcebbfee183d_b22335388d" tabindex="-1" value=""></div>
   </div>
   <div class="c3">
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-success" style="font-family: 'Helvetica Neue'; margin-bottom:6px"></div>
   </div>
  </div>
 </div>
</form>
</div>  </div>
  <div class="c3">
<div class="pn">
 <div class="pnh">
  <h3>Learn more</h3>
 </div>
 <img src="/img/160515-mms-python/header.jpg" alt="Twilio 和 Python logos，版权归各自所有者所有。" width="100%"> 
 <div class="lg">
<a href="/application-programming-interfaces.html" class="lgi">APIs</a>
<a href="/api-integration.html" class="lgi">API Integration</a>
<a href="https://www.twilio.com/docs/" class="lgi">Twilio <svg width="20" height="12" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1408 928v320q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h704q14 0 23 9t9 23v64q0 14-9 23t-23 9h-704q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-320q0-14 9-23t23-9h64q14 0 23 9t9 23zm384-864v512q0 26-19 45t-45 19-45-19l-176-176-652 652q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l652-652-176-176q-19-19-19-45t19-45 45-19h512q26 0 45 19t19 45z"/></svg></a>  <a href="/table-of-contents.html" class="lgi">...or view all topics.</a>
 </div>
</div><div class="pn">
 <div class="pnh"><h3>Sponsored By</h3></div>
 <div class="pnb">
<a href="https://rollbar.com/"><img src="/img/logos/rbw.jpg" alt="Rollbar logo" width="100%" style="padding:12px 0 18px"></a>
<p class="sps">Fix errors in your Python code before your users see them by <a href="https://rollbar.com/">monitoring with Rollbar</a>.</p> </div>
</div>  </div>
</div>
<hr></div> 
<div style="margin: 0 0 12px;background-color: #22B24C;">
 <div class="cn">
  <p class="banner sns">
   <a href="https://training.talkpython.fm/courses/explore_ansible/introduction-to-ansible-with-python" style="color: #fff">Learn to deploy and configure servers with Ansible in my latest video course</a>!
  </p>
 </div>
</div>
<div class="container">
    <div class="footer pull-right" style="text-align:right; font-size:85%;">
        This site is based on <a href="https://github.com/mattmakai">Matt Makai</a>'s project <a href="https://github.com/mattmakai/fullstackpython.com">Full Stack Python</a>, thanks for his excellent work!
    </div>
</div>
<div class="container">
    <div class="footer pull-right" style="text-align:right; font-size:85%;">
        <p>此网站由 <a href="https://github.com/qiwihui">@qiwihui</a> 维护。
          若发现错误或想贡献，请访问： <a href="https://github.com/qiwihui/fullstackpython.com">Github qiwihui/fullstackpython.com 项目</a>
        </p>
    </div>
</div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-46660488-4"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-46660488-4');</script>
</body>
</html>