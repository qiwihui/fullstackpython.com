<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="使用 Python 3，Django 和 Green Unicorn（Gunicorn） 在 Ubuntu 16.04 上进行开发的分步说明。">
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="在 Ubuntu 16.04 LTS 上设置 Python 3，Django 和 Gunicorn" />
<meta name="twitter:image" content="https://www.fullstackpython.com/img/160509-ubuntu-django-gunicorn/header.jpg" />
<meta name="twitter:site" content="@fullstackpython" />
<meta name="twitter:creator" content="@mattmakai" />
<meta property="og:url" content="https://www.fullstackpython.com/blog/python-3-django-gunicorn-ubuntu-1604-xenial-xerus.html" />
<meta property="og:title" content="在 Ubuntu 16.04 LTS 上设置 Python 3，Django 和 Gunicorn" />
<meta property="og:description" content="使用 Python 3，Django 和 Green Unicorn（Gunicorn） 在 Ubuntu 16.04 上进行开发的分步说明。 Great post on fullstackpython.com!" />
<meta property="og:image" content="https://www.fullstackpython.com/img/160509-ubuntu-django-gunicorn/header.jpg" />
<link rel="canonical" href="https://www.fullstackpython.com/blog/python-3-django-gunicorn-ubuntu-1604-xenial-xerus.html" />
<title>在 Ubuntu 16.04 LTS 上设置 Python 3，Django 和 Gunicorn - Full Stack Python</title> <style>hr,img{border:0}*,:after,:before{box-sizing:border-box}html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;font-size:18px;background:#fefefe}body{margin:0;font:18px Georgia,serif;line-height:1.4;color:#222;padding:0}img{vertical-align:middle}hr{height:0;box-sizing:content-box;margin:21px 0;border-top:1px solid #eee}h1,h2,h3,h4,h5,h6{font-family:"Helvetica Neue",sans-serif;font-weight:500;line-height:1.1;color:#000}h1,h2,h3{margin:32px 0 6px}h1{font-size:40px}h2{font-size:28px}h3{font-size:22px}h4,h5,h6{margin:11px 0;font-size:18px}p{margin:0 0 12px}ol,ul{margin:0 0 10px}code,pre{font:"Courier New",monospace;border-radius:4px;background-color:#f4f9ff;font-size:12px}code{padding:2px 4px;white-space:nowrap}pre{white-space:pre-wrap;display:block;padding:10px;margin:0 0 11px;line-height:1.4;word-break:break-all;word-wrap:break-word;border:1px solid #ccc}.cn{padding:0 15px 0 15px;margin-right:auto;margin-left:auto}.cn:before,.cn:after{display:table;content:" "}.cn:after{clear:both}.row:before,.row:after{display:table;content:" "}.row:after{clear:both}.c2,.c3,.c4,.c5,.c6,.c7,.c8,.c9,.c10,.c11,.c12{position:relative;min-height:1px;padding:0 15px 0 15px}a{background:transparent;text-decoration:none;border-bottom:1px dotted;color:#444}a:hover{text-decoration:none;color:#000}.ft{padding:0 0 24px;float:right}.sns{font-family:"Helvetica Neue",sans-serif}.sps{font-size:14px}.hd{margin:20px 0 15px 0}.hd>a{border-bottom:none}img.hdr{vertical-align:middle;border:none;height:52px;width:52px;padding:1px}.hdt a,.hdt a:hover{font:72px "Helvetica Neue",sans-serif;font-weight:normal;letter-spacing:.03em;vertical-align:middle;margin-left:5px;color:#000;text-decoration:none;border-bottom:none;line-height:.9em}.bk{margin:0 7px 0 7px}img.nob{border:none}.pn{margin:0 0 21px;background:#fff;border:1px solid transparent;border-radius:4px;border-color:#22b24c}.pnb{padding:15px}.pnb:before,.pnb:after{display:table;content:" "}.pnb:after{clear:both}.pn>.lg{margin-bottom:0}.pn>.lg .lgi{border-width:1px 0;font:14px 'Helvetica Neue',sans-serif;padding:5px 0 5px 10px}.pn>.lg .lgi:first-child{border-top-right-radius:0;border-top-left-radius:0}.pn>.lg .lgi:last-child{border-bottom:0;background-color:#22b24c;color:#fff}.pnh+.lg .lgi:first-child{border-top-width:0}.pnh{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:3px;border-top-left-radius:3px;color:#468847;background-color:#22b24c;border-color:#22b24c}.pn>.pnh>h3{margin:5px 0 0 0;color:#fff}.pn>.pnh>h3>a{color:#fff}.pn>.lg a.lgi.sbc{padding-left:27px}.pn>.lg a.lgi.sbc2{padding-left:35px}#sb{margin-top:40px}.lg{padding-left:0;margin-bottom:20px}.lgi{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}.lgi:first-child{border-top-right-radius:4px;border-top-left-radius:4px}.lgi:last-child{margin-bottom:0;border-bottom-right-radius:4px;border-bottom-left-radius:4px}a.lgi{color:#333}a.lgi:hover,a.lgi:focus{background:#ddd}a.lgi.active{z-index:2;background:#444;color:#fff;border:1px solid #222}.btn-full{width:100%;box-shadow:1px 2px 1px #222;padding-bottom:4px}p.under-btn{text-align:left;margin-top:20px}p.banner{font-weight:500;line-height:1.1;color:#fff;font-size:22px;margin:14px 0 18px 0}th{text-align:left;font-family:"Helvetica Neue",sans-serif}td{padding-right:20px}blockquote{border-left:4px solid #aaa;padding-left:10px;font-family:"Helvetica Neue"}.well{min-height:20px;padding:19px;margin:0 0 20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.05)}.see-also{margin-top:20px;background:#22B24C;color:#eee;font-family:"Helvetica Neue",sans-serif}.see-also a{color: #fff}.highlight{background:#ffff00}.form-control{display:block;width:100%;height:39px;padding:8px 12px;font-size:14px;color:#777;vertical-align:middle;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075);transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,0.075),0 0 8px rgba(102,175,233,0.6)}.btn{display:inline-block;padding:8px 12px;margin-bottom:0;font-size:15px;line-height:1.4;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;border:1px solid transparent;border-radius:4px;color:#fff;background-color:#22b24c;border-color:#22b24c}.btn:active,.btn.active{background-image:none;outline:0;box-shadow:inset 0 3px 5px rgba(0,0,0,0.125)}img.rnd{border:1px solid #ccc;border-radius:5px}.shot{border-radius:5px}.outl{border: 1px solid #ccc}.talk{margin-bottom:22px}@media (min-width:750px){.cn{width:730px}}@media (min-width:768px){.cn{width:750px}#full-toc{display:block}#mobile-toc{display:none}.c3,.c4,.c6,.c8,.c9,.c12{float:left}.c12{width:100%} .c9{width:75%} .c6{width:50%} .c8{width:66.66666666666666%} .c4{width:33.33333333333333%} .c3{width:25%} .co1{margin-left:8.333333333333332%} .select-next{min-height:300px}}@media (min-width:940px){.cn{width:920px}}@media (min-width:1140px){.cn{width:1120px}}.row{margin-right:-15px;margin-left:-15px} @media (max-width:767px){#full-toc{display:none} .hd{padding:8px 0 10px; margin:0} .hdt a,.hdt a:hover{font-size:34px} h1{font-size:28px} h2{font-size:24px} img.hdr{height:26px;width:26px} pre{font-size:60%}} @media (min-width:1140px){.select-next{min-height:220px}}</style><link rel="shortcut icon" href="/img/fsp-fav.png">
</head>
<body>
<div class="cn">
<div class="row"><div class="c12"><div class="hd"><a href="https://fullstackpython.qiwihui.com/"><img src="/img/logos/f.png" class="hdr" alt="Full Stack Python logo"></a><span class="hdt"> <a href="https://fullstackpython.qiwihui.com/">全栈 Python</a></span></div><div class="sns">
<a href="/table-of-contents.html">全部主题</a> <span class="bk">|</span>
<a href="/blog.html">博客</a> <span class="bk">|</span>
<a href="/email.html">邮件订阅</a> <span class="bk">|</span>
<a href="https://twitter.com/fullstackpython">@fullstackpython</a> <span class="bk">|</span>
<a href="https://www.facebook.com/fullstackpython">Facebook</a> <span class="bk">|</span>
<a href="/change-log.html">更新日志</a> <span class="bk">|</span>
<a href="https://github.com/qiwihui/fullstackpython.com">源码</a> 
</div></div></div><div class="row">
 <div class="c12">
  <h1 style="font-size: 36px;">在 Ubuntu 16.04 LTS 上设置 Python 3，Django 和 Gunicorn</h1>
  <div style="font-size:12px;color:#666;margin:0 0 10px">
     Post updated by <a href="/about-author.html">Matt Makai</a> on 
     April 28, 2017. Originally posted
     on May 09, 2016.
  </div>
 </div>
</div>
<div class="row">
  <div class="c9">
   <p><a href="/ubuntu.html">Ubuntu</a> released the newest Long Term Support (LTS) 
version of its <a href="/operating-systems.html">operating system</a> in April 2016. 
The update brings Ubuntu to version 16.04 and its latest code name is 
"Xenial Xerus". 16.04 is the first Ubuntu release to include 
<a href="/python-2-or-3.html">Python 3</a> as the default Python installation.</p>
<p>Let's use this newest Ubuntu release along with Python version 3.5 to 
start a new <a href="/django.html">Django</a> web application project and run it with 
<a href="/green-unicorn-gunicorn.html">Green Unicorn (Gunicorn)</a>.</p>
<h2>Tools We Need</h2>
<p>We will need a few tools to complete our project. Don't worry about 
installing these just yet as we'll get to them as we progress through the
tutorial. The tools and their current versions as of April 2017 are:</p>
<ul>
<li><a href="http://releases.ubuntu.com/16.04/">Ubuntu 16.04.2 LTS (Xenial Xerus)</a></li>
<li><a href="/why-use-python.html">Python</a> version 
  <a href="https://docs.python.org/3/whatsnew/3.5.html">3.5.1</a> 
  (default in Ubuntu 16.04.2). Python 3.6 has been released but 
  Ubuntu 16.04.2 comes with 3.5.1 by default so we'll use the version 3.5.1 
  in this post.</li>
<li><a href="/django.html">Django</a> web framework version 
  <a href="https://docs.djangoproject.com/en/1.11/releases/1.11/">1.11</a></li>
<li><a href="/green-unicorn-gunicorn.html">Green Unicorn (Gunicorn)</a> version 
  <a href="http://docs.gunicorn.org/en/stable/news.html">19.7.1</a></li>
</ul>
<p>If you are running Mac OS X or Windows, use virtualization software such
as <a href="https://www.parallels.com/products/desktop/">Parallels</a> 
(this is what I use, but it's Mac OS X-only) or 
<a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a> with the 
<a href="http://releases.ubuntu.com/16.04/">Ubuntu .iso file</a>. Either the amd64 or
i386 version of 16.04 is fine, but I use amd64 for development and testing
in this blog post.</p>
<p>When we boot up for the first time, we should see a desktop screen like 
this one.</p>
<p><img src="/img/160509-ubuntu-django-gunicorn/ubuntu-desktop.jpg" width="100%" class="technical-diagram img-rounded"></p>
<p>Open up terminal to proceed with the setup.</p>
<h2>System Packages</h2>
<p>We can see the python3 version Ubuntu comes with, as well as where its
executable is stored.</p>
<div class="highlight"><pre><span></span>python3 --version
which python3
</pre></div>


<p><img src="/img/160509-ubuntu-django-gunicorn/which-python.png" width="100%" class="technical-diagram img-rounded"></p>
<p>Our Ubuntu installation first needs system packages for Python development.
You'll be prompted for your superuser password because restricted system
access is required to install packages through apt.</p>
<div class="highlight"><pre><span></span>sudo apt-get install python3-pip python3-dev
</pre></div>


<p><img src="/img/160509-ubuntu-django-gunicorn/install-packages.png" width="100%" class="technical-diagram img-rounded"></p>
<p>Enter <code>y</code> and let the system package installation process run.</p>
<p><img src="/img/160509-ubuntu-django-gunicorn/packages-installed.png" width="100%" class="technical-diagram img-rounded"></p>
<p>The basic system packages we need are now installed so we can proceed to
our Python-specific dependencies.</p>
<h2>Virtualenv</h2>
<p>Virtualenv and pip for isolating and handling 
<a href="/application-dependencies.html">application dependencies</a> were just 
installed via system packages so we can now use them to obtain Django and 
Gunicorn.</p>
<p>Create a directory to store virtualenvs then put a new virtualenv in it.</p>
<div class="highlight"><pre><span></span># make sure pip and setuptools are the latest version
pip3 install --upgrade pip setuptools
# the tilde &quot;~&quot; specifies the user&#39;s home directory, like /home/matt
cd ~
mkdir venvs
# specify the system python3 installation
python3 -m venv venvs/djproject
</pre></div>


<p>Activate the virtualenv.</p>
<div class="highlight"><pre><span></span>source ~/venvs/djproject/bin/activate
</pre></div>


<p>We should see our prompt change so that we know the virtualenv is properly 
activated.</p>
<p><img src="/img/160509-ubuntu-django-gunicorn/venv-activated.png" width="100%" class="technical-diagram img-rounded"></p>
<p>Our virtualenv with Python 3 is activated so we can install whatever
dependencies we want, such as Django and Gunicorn. </p>
<h2>Django and Gunicorn</h2>
<p>Time to install Django and Green Unicorn into our virtualenv.</p>
<div class="highlight"><pre><span></span>pip install django gunicorn
</pre></div>


<p>No errors is a good sign everything worked for us.</p>
<p><img src="/img/160509-ubuntu-django-gunicorn/good-sign.png" width="100%" class="technical-diagram img-rounded"></p>
<p>Create a new Django project named <code>djproject</code>, or whatever you want to name
your project. Then change into the directory for the new project.</p>
<div class="highlight"><pre><span></span>django-admin startproject djproject
cd djproject
</pre></div>


<p>We could run Django with the development server using the 
<code>python manage.py runserver</code> command. However, start Django up with
Gunicorn instead.</p>
<div class="highlight"><pre><span></span>gunicorn djproject.wsgi
</pre></div>


<p><img src="/img/160509-ubuntu-django-gunicorn/gunicorn-run.png" width="100%" class="technical-diagram img-rounded"></p>
<p>Awesome, now we can bring up our shell project in the web browser at
the <code>localhost:8000</code> or <code>127.0.0.1:8000</code> address.</p>
<p><img src="/img/160509-ubuntu-django-gunicorn/it-worked.jpg" width="100%" class="technical-diagram img-rounded"></p>
<p>Ready for development!</p>
<h2>Ready for Development</h2>
<p>Those are the basics for starting development with Django and Gunicorn on 
Ubuntu 16.04. If you need an even more in-depth step-by-step tutorial to 
deploy your Python web application to a production environment, check out the 
<a href="http://www.deploypython.com/">Full Stack Python Guide to Deployments book</a>.</p>
<p>To figure out what to do next for your Python project, read the topics 
found on the <a href="/table-of-contents.html">table of contents</a> page.</p>
<p>Questions? Contact me via Twitter 
<a href="https://twitter.com/fullstackpython">@fullstackpython</a>
or <a href="https://twitter.com/mattmakai">@mattmakai</a>. I'm also on GitHub with
the username <a href="https://github.com/mattmakai">mattmakai</a>.</p>
<p>See something wrong in this post? Fork 
<a href="https://github.com/mattmakai/fullstackpython.com/blob/master/content/posts/160509-django-gunicorn-ubuntu-1604.markdown">this page's source on GitHub</a>
and submit a pull request.</p>
   <hr>
<div id="mc_embed_signup">
<form action="//mattmakai.us2.list-manage.com/subscribe/post?u=b7e774f0c4f05dcebbfee183d&amp;id=b22335388d" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
 <div id="mc_embed_signup_scroll">
  <h4>Sign up for a monthly email with Full Stack Python tutorials. No spam ever.</h4>
  <div class="row">
   <div class="c9">
    <input type="email" value="" name="EMAIL" class="email form-control" id="mce-EMAIL" placeholder="email address" required>
    <div style="position: absolute; left: -5000px;"><input type="text" name="b_b7e774f0c4f05dcebbfee183d_b22335388d" tabindex="-1" value=""></div>
   </div>
   <div class="c3">
    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-success" style="font-family: 'Helvetica Neue'; margin-bottom:6px"></div>
   </div>
  </div>
 </div>
</form>
</div>  </div>
  <div class="c3">
<div class="pn">
 <div class="pnh">
  <h3>Learn more</h3>
 </div>
 <img src="/img/160509-ubuntu-django-gunicorn/header.jpg" alt="Django, Green Unicorn 和 Ubuntu Linux logos，版权归各自所有者所有。" width="100%"> 
 <div class="lg">
<a href="/operating-systems.html" class="lgi">Operating Systems</a>
<a href="/ubuntu.html" class="lgi">Ubuntu</a>
<a href="/wsgi-servers.html" class="lgi">WSGI Servers</a>
<a href="/green-unicorn-gunicorn.html" class="lgi">Green Unicorn (Gunicorn)</a>
<a href="/web-frameworks.html" class="lgi">Web Frameworks</a>
<a href="/django.html" class="lgi">Django</a>  <a href="/table-of-contents.html" class="lgi">...or view all topics.</a>
 </div>
</div><div class="pn">
 <div class="pnh"><h3>Sponsored By</h3></div>
 <div class="pnb">
<a href="https://rollbar.com/"><img src="/img/logos/rbw.jpg" alt="Rollbar logo" width="100%" style="padding:12px 0 18px"></a>
<p class="sps">Fix errors in your Python code before your users see them by <a href="https://rollbar.com/">monitoring with Rollbar</a>.</p> </div>
</div>  </div>
</div>
<hr></div> 
<div style="margin: 0 0 12px;background-color: #22B24C;">
 <div class="cn">
  <p class="banner sns">
   <a href="https://training.talkpython.fm/courses/explore_ansible/introduction-to-ansible-with-python" style="color: #fff">Learn to deploy and configure servers with Ansible in my latest video course</a>!
  </p>
 </div>
</div>
<div class="container">
    <div class="footer pull-right" style="text-align:right; font-size:85%;">
        This site is based on <a href="https://github.com/mattmakai">Matt Makai</a>'s project <a href="https://github.com/mattmakai/fullstackpython.com">Full Stack Python</a>, thanks for his excellent work!
    </div>
</div>
<div class="container">
    <div class="footer pull-right" style="text-align:right; font-size:85%;">
        <p>此网站由 <a href="https://github.com/qiwihui">@qiwihui</a> 维护。
          若发现错误或想贡献，请访问： <a href="https://github.com/qiwihui/fullstackpython.com">Github qiwihui/fullstackpython.com 项目</a>
        </p>
    </div>
</div><script async src="https://www.googletagmanager.com/gtag/js?id=UA-46660488-4"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-46660488-4');</script>
</body>
</html>